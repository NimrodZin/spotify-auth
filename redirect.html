<!DOCTYPE html>
<html>
<head>
    <title>Spotify Auth</title>
    <style>
        body { font-family: -apple-system, sans-serif; padding: 40px; background: #121212; color: #fff; }
        .token-box { background: #282828; padding: 20px; border-radius: 8px; word-break: break-all; margin: 20px 0; }
        .success { color: #1DB954; }
        .error { color: #ff6b6b; }
        button { background: #1DB954; color: #000; border: none; padding: 12px 24px; border-radius: 24px; cursor: pointer; font-weight: bold; }
    </style>
</head>
<body>
    <h1>üéµ Spotify Auth</h1>
    <div id="result"></div>
    
    <script>
        const hash = window.location.hash.substring(1);
        const params = new URLSearchParams(hash);
        const token = params.get('access_token');
        
        if (token) {
            document.getElementById('result').innerHTML = `
                <p class="success">‚úÖ Token received!</p>
                <div class="token-box"><code>${token}</code></div>
                <p>Copy this token and paste it into ChatGPT/SpotifyGPT.</p>
                <button onclick="navigator.clipboard.writeText('${token}').then(() => this.textContent = 'Copied!')">
                    Copy Token
                </button>
            `;
        } else {
            document.getElementById('result').innerHTML = `
                <p class="error">‚ùå No token found.</p>
                <p><a href="https://accounts.spotify.com/authorize?client_id=977213e55b904f67bfbe97bf8533b3df&response_type=token&redirect_uri=https%3A%2F%2Fnimrodzin.github.io%2Fspotify-auth%2Fredirect.html&scope=user-read-playback-state%20user-modify-playback-state%20user-read-recently-played%20playlist-read-private%20user-read-currently-playing" style="color: #1DB954;">Click here to authorize</a></p>
            `;
        }
    </script>
</body>
</html>
